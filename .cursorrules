# AI Coding Rules

## Universal Standards

### Code Quality
- Write clear, self-documenting code. Comments explain WHY, not WHAT.
- Small, focused functions. One responsibility per function.
- No magic numbers or hardcoded strings—use constants.
- Fail fast. Validate inputs early, handle errors explicitly.
- No silent failures. Log or surface all errors.

### Change Philosophy
- Prefer minimal, incremental changes over rewrites.
- Don't refactor unrelated code while fixing bugs.
- If something works, don't "improve" it without reason.
- Leave code cleaner than you found it, but don't go overboard.

### Dependencies
- Don't add new dependencies casually.
- Justify any new package inline.
- Prefer standard library solutions when reasonable.

### Testing
- Add tests for new logic.
- If fixing a bug, add a regression test.
- Tests should be deterministic and fast.

### Documentation
- Update README if behavior changes.
- Add CHANGELOG entries for user-facing changes.
- Document breaking changes explicitly.

### What NOT to Do
- Don't over-engineer or over-abstract.
- Don't add features that weren't requested.
- Don't guess—ask or leave a TODO.
- Don't use print/console.log in production code.

---

## Tech Stack: OpenAPI Specification

### Spec Conventions
- Use OpenAPI 3.0+ format
- Define reusable components in `components/schemas`
- Use consistent naming: `camelCase` for properties, `PascalCase` for schemas
- Include examples for all response types
- Document all error responses

### Schema Design
- Prefer explicit types over `anyOf`/`oneOf` when possible
- Use `$ref` for reusable components
- Include `description` for all fields
- Mark required fields explicitly

### Versioning
- Document breaking changes in CHANGELOG
- Use semantic versioning for spec versions
- Maintain backwards compatibility when possible

### File Structure
```
spec/
├── openapi.yml       # Main spec file
examples/
├── *.json            # Example responses
docs/
├── *.md              # Supporting documentation
```

---

## Project: Scroll Down API Spec

### Purpose
OpenAPI specification defining the contract between Scroll Down backend and clients (iOS app, web UI).

### Core Principles
- **Spec is the source of truth**: Implementation follows spec, not vice versa
- **Stability**: Don't break existing clients
- **Clarity**: Spec should be self-documenting

### Key Files
- `spec/openapi.yml` — The API specification
- `examples/` — Example request/response payloads
- `docs/` — Contract documentation and guides

### Consumers
- `scroll-down-app` (iOS) — Generates Swift models from spec
- `scroll-down-sports-ui` (Web) — Generates TypeScript types from spec
- `sports-data-admin` (Backend) — Implements this spec

### Breaking Change Policy
- Document all breaking changes in `docs/CHANGELOG.md`
- Coordinate with consumer repos before breaking changes
- Prefer additive changes (new optional fields) over modifications


